\hypertarget{class_model_loader}{}\section{Model\+Loader Class Reference}
\label{class_model_loader}\index{Model\+Loader@{Model\+Loader}}


deprecated, for use only when coxl loader not working  




{\ttfamily \#include $<$Model\+Loader.\+h$>$}

\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{stdafx_8h_a8ee2d990c5dfba7794dd2b60741d7722}{D3\+D\+E\+N\+G\+I\+N\+E\+\_\+\+A\+PI}} \mbox{\hyperlink{struct_structures_1_1_vertices_indices}{Structures\+::\+Vertices\+Indices}} \mbox{\hyperlink{class_model_loader_aa70efbdc2fff6bf8208fcc76cfd4a464}{Load\+Model\+From\+File}} (std\+::string file\+Name)
\begin{DoxyCompactList}\small\item\em The general rule is that you should not use this as it is for debug cases only (incase the C\+O\+XL loader fails or is broken) \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
X\+M\+M\+A\+T\+R\+IX \mbox{\hyperlink{class_model_loader_aca3f1bef5b2ab890212784626559482c}{get\+Parent\+Trans}} (X\+M\+M\+A\+T\+R\+IX, ai\+Node $\ast$node)
\item 
void \mbox{\hyperlink{class_model_loader_ae809d56b350b003306b484c3bbc1b5e3}{Init\+From\+Scene}} (const ai\+Scene $\ast$scene)
\item 
void \mbox{\hyperlink{class_model_loader_afebdf188f92f87cdcefdee2b4b474727}{Load\+Animations}} (const ai\+Scene $\ast$scene)
\item 
void \mbox{\hyperlink{class_model_loader_a77713e17f817861d8b6b3b166248abe7}{Load\+Bones}} (const ai\+Scene $\ast$scene, const int i)
\item 
std\+::vector$<$ unsigned $>$ \mbox{\hyperlink{class_model_loader_aade9d7c2c0a8a13800700ee3b4b930ef}{load\+Indices}} (const ai\+Scene $\ast$scene, const int i)
\item 
std\+::vector$<$ \mbox{\hyperlink{struct_structures_1_1_vertex_tex_coord_normal_bones}{Structures\+::\+Vertex\+Tex\+Coord\+Normal\+Bones}} $>$ \mbox{\hyperlink{class_model_loader_a90e1f853324d4aee05ba5db140aa974d}{load\+Vertices}} (const ai\+Scene $\ast$scene, const int i)
\item 
int \mbox{\hyperlink{class_model_loader_a5356ad9c0e77c4b5142c1c1400b01048}{Find\+Bone\+With\+Keys}} (std\+::vector$<$ \mbox{\hyperlink{struct_structures_1_1_anim_bone}{Structures\+::\+Anim\+Bone}} $>$ bones, std\+::string name)
\item 
std\+::vector$<$ \mbox{\hyperlink{struct_structures_1_1_anim_bone}{Structures\+::\+Anim\+Bone}} $>$ \mbox{\hyperlink{class_model_loader_afabe255fd413f08ac9939e786f26aee4}{Get\+Nodes}} (ai\+Node $\ast$node, std\+::vector$<$ \mbox{\hyperlink{struct_structures_1_1_anim_bone}{Structures\+::\+Anim\+Bone}} $>$ list)
\item 
X\+M\+M\+A\+T\+R\+IX \mbox{\hyperlink{class_model_loader_ab142e176c572ea327518f01fb2f0630b}{ai\+To\+Xmmatrix}} (ai\+Matrix4x4 mat)
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
std\+::vector$<$ \mbox{\hyperlink{struct_structures_1_1_vertex_tex_coord_normal_bones}{Structures\+::\+Vertex\+Tex\+Coord\+Normal\+Bones}} $>$ \mbox{\hyperlink{class_model_loader_ac87b9662dae9c00b140bc90c30c088ee}{m\+\_\+vertices}}
\item 
std\+::vector$<$ unsigned $>$ \mbox{\hyperlink{class_model_loader_a6d63371db7677b60c2c000f23c7fb8f6}{m\+\_\+indices}}
\item 
std\+::vector$<$ \mbox{\hyperlink{struct_structures_1_1_animation}{Structures\+::\+Animation}} $>$ \mbox{\hyperlink{class_model_loader_a2b9cf4d8fe3432ddc656651057c78860}{m\+\_\+animations}}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
deprecated, for use only when coxl loader not working 

Definition at line 10 of file Model\+Loader.\+h.



\subsection{Member Function Documentation}
\mbox{\Hypertarget{class_model_loader_ab142e176c572ea327518f01fb2f0630b}\label{class_model_loader_ab142e176c572ea327518f01fb2f0630b}} 
\index{Model\+Loader@{Model\+Loader}!ai\+To\+Xmmatrix@{ai\+To\+Xmmatrix}}
\index{ai\+To\+Xmmatrix@{ai\+To\+Xmmatrix}!Model\+Loader@{Model\+Loader}}
\subsubsection{\texorpdfstring{ai\+To\+Xmmatrix()}{aiToXmmatrix()}}
{\footnotesize\ttfamily X\+M\+M\+A\+T\+R\+IX Model\+Loader\+::ai\+To\+Xmmatrix (\begin{DoxyParamCaption}\item[{ai\+Matrix4x4}]{mat }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 218 of file Model\+Loader.\+cpp.


\begin{DoxyCode}
219 \{
220     \textcolor{keyword}{auto} matrix = mat;
221     \textcolor{keyword}{auto} trans = XMFLOAT4X4(
222         matrix.a1, matrix.a2, matrix.a3, matrix.a4,
223         matrix.b1, matrix.b2, matrix.b3, matrix.b4,
224         matrix.c1, matrix.c2, matrix.c3, matrix.c4,
225         matrix.d1, matrix.d2, matrix.d3, matrix.d4
226     );
227     \textcolor{keywordflow}{return} XMLoadFloat4x4(&trans);
228 \}
\end{DoxyCode}
\mbox{\Hypertarget{class_model_loader_a5356ad9c0e77c4b5142c1c1400b01048}\label{class_model_loader_a5356ad9c0e77c4b5142c1c1400b01048}} 
\index{Model\+Loader@{Model\+Loader}!Find\+Bone\+With\+Keys@{Find\+Bone\+With\+Keys}}
\index{Find\+Bone\+With\+Keys@{Find\+Bone\+With\+Keys}!Model\+Loader@{Model\+Loader}}
\subsubsection{\texorpdfstring{Find\+Bone\+With\+Keys()}{FindBoneWithKeys()}}
{\footnotesize\ttfamily int Model\+Loader\+::\+Find\+Bone\+With\+Keys (\begin{DoxyParamCaption}\item[{std\+::vector$<$ \mbox{\hyperlink{struct_structures_1_1_anim_bone}{Structures\+::\+Anim\+Bone}} $>$}]{bones,  }\item[{std\+::string}]{name }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 187 of file Model\+Loader.\+cpp.


\begin{DoxyCode}
188 \{
189     \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} bone = 0; bone < bones.size(); bone++)
190     \{
191         \textcolor{keywordflow}{if} (bones[bone].name == name)
192         \{
193             \textcolor{keywordflow}{return} bone;
194         \}
195     \}
196     \textcolor{keywordflow}{return} -1;
197 \}
\end{DoxyCode}
\mbox{\Hypertarget{class_model_loader_afabe255fd413f08ac9939e786f26aee4}\label{class_model_loader_afabe255fd413f08ac9939e786f26aee4}} 
\index{Model\+Loader@{Model\+Loader}!Get\+Nodes@{Get\+Nodes}}
\index{Get\+Nodes@{Get\+Nodes}!Model\+Loader@{Model\+Loader}}
\subsubsection{\texorpdfstring{Get\+Nodes()}{GetNodes()}}
{\footnotesize\ttfamily std\+::vector$<$ \mbox{\hyperlink{struct_structures_1_1_anim_bone}{Structures\+::\+Anim\+Bone}} $>$ Model\+Loader\+::\+Get\+Nodes (\begin{DoxyParamCaption}\item[{ai\+Node $\ast$}]{node,  }\item[{std\+::vector$<$ \mbox{\hyperlink{struct_structures_1_1_anim_bone}{Structures\+::\+Anim\+Bone}} $>$}]{list }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 199 of file Model\+Loader.\+cpp.


\begin{DoxyCode}
199                                                                                                       \{
200     \textcolor{keywordflow}{if} (node->mNumChildren > 0) \{
201         \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} i = 0; i < node->mNumChildren; i++) \{
202             \textcolor{keyword}{auto} childBoneId = \mbox{\hyperlink{class_model_loader_a5356ad9c0e77c4b5142c1c1400b01048}{FindBoneWithKeys}}(list, node->mChildren[i]->mName.data);
203             \textcolor{keyword}{auto} childTransform = list[childBoneId];
204             \textcolor{keyword}{auto} parentTransform = list[\mbox{\hyperlink{class_model_loader_a5356ad9c0e77c4b5142c1c1400b01048}{FindBoneWithKeys}}(list, node->mName.data)];
205             \textcolor{keyword}{auto} trans = \mbox{\hyperlink{class_model_loader_ab142e176c572ea327518f01fb2f0630b}{aiToXmmatrix}}(node->mChildren[i]->mTransformation);
206             \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} i = 0; i < childTransform.transforms.size(); i++) \{
207                 childTransform.transforms[i] = (childTransform.transforms[i] * parentTransform.transforms[i
      ]);
208                 \textcolor{keyword}{auto} offset = childTransform.offsetMatrix;
209                 childTransform.finalTransforms.push\_back(XMMatrixTranspose(offset) * ((childTransform.
      transforms[i])));
210             \}
211             list[childBoneId] = childTransform;
212             list = \mbox{\hyperlink{class_model_loader_afabe255fd413f08ac9939e786f26aee4}{GetNodes}}(node->mChildren[i], list);
213         \}
214     \}
215     \textcolor{keywordflow}{return} list;
216 \}
\end{DoxyCode}
\mbox{\Hypertarget{class_model_loader_aca3f1bef5b2ab890212784626559482c}\label{class_model_loader_aca3f1bef5b2ab890212784626559482c}} 
\index{Model\+Loader@{Model\+Loader}!get\+Parent\+Trans@{get\+Parent\+Trans}}
\index{get\+Parent\+Trans@{get\+Parent\+Trans}!Model\+Loader@{Model\+Loader}}
\subsubsection{\texorpdfstring{get\+Parent\+Trans()}{getParentTrans()}}
{\footnotesize\ttfamily X\+M\+M\+A\+T\+R\+IX Model\+Loader\+::get\+Parent\+Trans (\begin{DoxyParamCaption}\item[{X\+M\+M\+A\+T\+R\+IX}]{mat,  }\item[{ai\+Node $\ast$}]{node }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 36 of file Model\+Loader.\+cpp.


\begin{DoxyCode}
37 \{
38     \textcolor{keywordflow}{if} (node->mParent) \{
39         \textcolor{keyword}{auto} matrix = node->mParent->mTransformation;
40         \textcolor{keyword}{auto} trans = XMFLOAT4X4(
41             matrix.a1, matrix.a2, matrix.a3, matrix.a4,
42             matrix.b1, matrix.b2, matrix.b3, matrix.b4,
43             matrix.c1, matrix.c2, matrix.c3, matrix.c4,
44             matrix.d1, matrix.d2, matrix.d3, matrix.d4
45         );
46 
47         \textcolor{keywordflow}{return} XMLoadFloat4x4(&trans);
48     \}
49     \textcolor{keywordflow}{return} XMMatrixIdentity();
50 \}
\end{DoxyCode}
\mbox{\Hypertarget{class_model_loader_ae809d56b350b003306b484c3bbc1b5e3}\label{class_model_loader_ae809d56b350b003306b484c3bbc1b5e3}} 
\index{Model\+Loader@{Model\+Loader}!Init\+From\+Scene@{Init\+From\+Scene}}
\index{Init\+From\+Scene@{Init\+From\+Scene}!Model\+Loader@{Model\+Loader}}
\subsubsection{\texorpdfstring{Init\+From\+Scene()}{InitFromScene()}}
{\footnotesize\ttfamily void Model\+Loader\+::\+Init\+From\+Scene (\begin{DoxyParamCaption}\item[{const ai\+Scene $\ast$}]{scene }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 52 of file Model\+Loader.\+cpp.


\begin{DoxyCode}
53 \{
54     \mbox{\hyperlink{class_model_loader_afebdf188f92f87cdcefdee2b4b474727}{LoadAnimations}}(scene);
55     \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} i = 0; i < scene->mNumMeshes; i++) \{
56         \mbox{\hyperlink{class_model_loader_ac87b9662dae9c00b140bc90c30c088ee}{m\_vertices}} = \mbox{\hyperlink{class_model_loader_a90e1f853324d4aee05ba5db140aa974d}{loadVertices}}(scene, i);
57         \mbox{\hyperlink{class_model_loader_a6d63371db7677b60c2c000f23c7fb8f6}{m\_indices}} = \mbox{\hyperlink{class_model_loader_aade9d7c2c0a8a13800700ee3b4b930ef}{loadIndices}}(scene, i);
58         \mbox{\hyperlink{class_model_loader_a77713e17f817861d8b6b3b166248abe7}{LoadBones}}(scene, i);
59     \}
60 \}
\end{DoxyCode}
\mbox{\Hypertarget{class_model_loader_afebdf188f92f87cdcefdee2b4b474727}\label{class_model_loader_afebdf188f92f87cdcefdee2b4b474727}} 
\index{Model\+Loader@{Model\+Loader}!Load\+Animations@{Load\+Animations}}
\index{Load\+Animations@{Load\+Animations}!Model\+Loader@{Model\+Loader}}
\subsubsection{\texorpdfstring{Load\+Animations()}{LoadAnimations()}}
{\footnotesize\ttfamily void Model\+Loader\+::\+Load\+Animations (\begin{DoxyParamCaption}\item[{const ai\+Scene $\ast$}]{scene }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 62 of file Model\+Loader.\+cpp.


\begin{DoxyCode}
63 \{
64     \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} i = 0; i < scene->mNumAnimations; i++) \{
65         \textcolor{keyword}{auto} animation = \mbox{\hyperlink{struct_structures_1_1_animation}{Structures::Animation}}\{\};
66 
67         animation.\mbox{\hyperlink{struct_structures_1_1_animation_a6726c126620084018287d0f9211db2b8}{bonesWithKeys}} = std::vector<Structures::AnimBone>();
68         \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} j = 0; j < scene->mAnimations[i]->mNumChannels; j++) \{
69             \textcolor{keyword}{auto} channel = scene->mAnimations[i]->mChannels[j];
70             \textcolor{keyword}{auto} transforms = std::vector<XMMATRIX>();
71             \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} key = 0; key < channel->mNumPositionKeys; key++) \{
72                 \textcolor{keyword}{auto} translation = XMVectorSet(
73                     channel->mPositionKeys[key].mValue.x,
74                     channel->mPositionKeys[key].mValue.y,
75                     channel->mPositionKeys[key].mValue.z, 0);
76                 \textcolor{keyword}{auto} rotation = XMVectorSet(
77                     channel->mRotationKeys[key].mValue.x,
78                     channel->mRotationKeys[key].mValue.y,
79                     channel->mRotationKeys[key].mValue.z,
80                     channel->mRotationKeys[key].mValue.w);
81                 \textcolor{keyword}{auto} scaling = XMVectorSet(
82                     channel->mScalingKeys[key].mValue.x,
83                     channel->mScalingKeys[key].mValue.y,
84                     channel->mScalingKeys[key].mValue.z, 1);
85                 \textcolor{keyword}{auto} zero = XMVectorSet(0, 0, 0, 1);
86 
87                 \textcolor{keyword}{auto} transform = XMMatrixAffineTransformation(scaling, zero, rotation, translation);
88                 transforms.push\_back(transform);
89             \}
90             \textcolor{keywordflow}{if} (std::string(channel->mNodeName.data) == \textcolor{stringliteral}{"Cube"}) \{
91                 \textcolor{keywordflow}{continue};
92             \}
93             \textcolor{keyword}{auto} animBone = \mbox{\hyperlink{struct_structures_1_1_anim_bone}{Structures::AnimBone}}\{ channel->mNodeName.data, transforms \}
      ;
94             animation.bonesWithKeys.push\_back(animBone);
95             animation.frameCount = scene->mAnimations[i]->mDuration * 24;
96         \}
97         \mbox{\hyperlink{class_model_loader_a2b9cf4d8fe3432ddc656651057c78860}{m\_animations}}.push\_back(animation);
98     \}
99 \}
\end{DoxyCode}
\mbox{\Hypertarget{class_model_loader_a77713e17f817861d8b6b3b166248abe7}\label{class_model_loader_a77713e17f817861d8b6b3b166248abe7}} 
\index{Model\+Loader@{Model\+Loader}!Load\+Bones@{Load\+Bones}}
\index{Load\+Bones@{Load\+Bones}!Model\+Loader@{Model\+Loader}}
\subsubsection{\texorpdfstring{Load\+Bones()}{LoadBones()}}
{\footnotesize\ttfamily void Model\+Loader\+::\+Load\+Bones (\begin{DoxyParamCaption}\item[{const ai\+Scene $\ast$}]{scene,  }\item[{const int}]{i }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 101 of file Model\+Loader.\+cpp.


\begin{DoxyCode}
102 \{
103     \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} x = 0; x < scene->mMeshes[i]->mNumBones; x++)
104     \{
105         \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} &animation : \mbox{\hyperlink{class_model_loader_a2b9cf4d8fe3432ddc656651057c78860}{m\_animations}})
106         \{
107             \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} z = 0; z < \mbox{\hyperlink{class_model_loader_a2b9cf4d8fe3432ddc656651057c78860}{m\_animations}}[0].bonesWithKeys.size(); z++)
108             \{
109                 \textcolor{keywordflow}{if} (animation.bonesWithKeys[z].name == std::string(scene->mMeshes[i]->mBones[x]->mName.data
      ))
110                 \{
111                     \textcolor{keyword}{const} \textcolor{keyword}{auto} mat = scene->mMeshes[i]->mBones[x]->mOffsetMatrix;
112                     animation.bonesWithKeys[z].offsetMatrix = \mbox{\hyperlink{class_model_loader_ab142e176c572ea327518f01fb2f0630b}{aiToXmmatrix}}(mat);
113                     \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} y = 0; y < scene->mMeshes[i]->mBones[x]->mNumWeights; y++)
114                     \{
115                         \mbox{\hyperlink{class_model_loader_ac87b9662dae9c00b140bc90c30c088ee}{m\_vertices}}[scene->mMeshes[i]->mBones[x]->mWeights[y].mVertexId].bones.
      push\_back(\{
116                             \textcolor{keyword}{static\_cast<}UINT\textcolor{keyword}{>}(z), scene->mMeshes[i]->mBones[x]->mWeights[y].mWeight \});
117                     \}
118                     \textcolor{keywordflow}{break};
119                 \}
120             \}
121         \}
122     \}
123 
124     \textcolor{keyword}{auto} root = scene->mRootNode;
125     root = root->FindNode(\textcolor{stringliteral}{"Armature"});
126     \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} anim = 0; anim < \mbox{\hyperlink{class_model_loader_a2b9cf4d8fe3432ddc656651057c78860}{m\_animations}}.size(); anim++)
127     \{
128         \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} i = 0; i < root->mNumChildren; i++) \{
129             \textcolor{keyword}{auto} childBoneId = \mbox{\hyperlink{class_model_loader_a5356ad9c0e77c4b5142c1c1400b01048}{FindBoneWithKeys}}(\mbox{\hyperlink{class_model_loader_a2b9cf4d8fe3432ddc656651057c78860}{m\_animations}}[anim].
      bonesWithKeys, root->mChildren[i]->mName.data);
130             \textcolor{keyword}{auto} childTransform = \mbox{\hyperlink{class_model_loader_a2b9cf4d8fe3432ddc656651057c78860}{m\_animations}}[anim].bonesWithKeys[childBoneId];
131             \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} i = 0; i < childTransform.transforms.size(); i++) \{
132                 childTransform.transforms[i] = childTransform.transforms[i];
133                 \textcolor{keyword}{auto} offset = childTransform.offsetMatrix;
134                 childTransform.finalTransforms.push\_back(XMMatrixTranspose(offset) * childTransform.
      transforms[i]);
135             \}
136             \mbox{\hyperlink{class_model_loader_a2b9cf4d8fe3432ddc656651057c78860}{m\_animations}}[anim].bonesWithKeys[childBoneId] = childTransform;
137             \mbox{\hyperlink{class_model_loader_a2b9cf4d8fe3432ddc656651057c78860}{m\_animations}}[anim].bonesWithKeys = \mbox{\hyperlink{class_model_loader_afabe255fd413f08ac9939e786f26aee4}{GetNodes}}(root->mChildren[i], 
      \mbox{\hyperlink{class_model_loader_a2b9cf4d8fe3432ddc656651057c78860}{m\_animations}}[anim].bonesWithKeys);
138 
139         \}
140     \}
141 \}
\end{DoxyCode}
\mbox{\Hypertarget{class_model_loader_aade9d7c2c0a8a13800700ee3b4b930ef}\label{class_model_loader_aade9d7c2c0a8a13800700ee3b4b930ef}} 
\index{Model\+Loader@{Model\+Loader}!load\+Indices@{load\+Indices}}
\index{load\+Indices@{load\+Indices}!Model\+Loader@{Model\+Loader}}
\subsubsection{\texorpdfstring{load\+Indices()}{loadIndices()}}
{\footnotesize\ttfamily std\+::vector$<$ unsigned $>$ Model\+Loader\+::load\+Indices (\begin{DoxyParamCaption}\item[{const ai\+Scene $\ast$}]{scene,  }\item[{const int}]{i }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 144 of file Model\+Loader.\+cpp.


\begin{DoxyCode}
145 \{
146     std::vector<unsigned> indices = std::vector<unsigned>();
147     \textcolor{keywordflow}{if} (scene->mMeshes[i]->HasFaces())
148     \{
149         \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} j = 0; j < scene->mMeshes[i]->mNumFaces; j++)
150         \{
151             \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} k = 0; k < scene->mMeshes[i]->mFaces[j].mNumIndices; k++)
152             \{
153                 indices.push\_back(scene->mMeshes[i]->mFaces[j].mIndices[k]);
154             \}
155         \}
156     \}
157     std::reverse(indices.begin(), indices.end());
158     \textcolor{keywordflow}{return} indices;
159 \}
\end{DoxyCode}
\mbox{\Hypertarget{class_model_loader_aa70efbdc2fff6bf8208fcc76cfd4a464}\label{class_model_loader_aa70efbdc2fff6bf8208fcc76cfd4a464}} 
\index{Model\+Loader@{Model\+Loader}!Load\+Model\+From\+File@{Load\+Model\+From\+File}}
\index{Load\+Model\+From\+File@{Load\+Model\+From\+File}!Model\+Loader@{Model\+Loader}}
\subsubsection{\texorpdfstring{Load\+Model\+From\+File()}{LoadModelFromFile()}}
{\footnotesize\ttfamily \mbox{\hyperlink{struct_structures_1_1_vertices_indices}{Structures\+::\+Vertices\+Indices}} Model\+Loader\+::\+Load\+Model\+From\+File (\begin{DoxyParamCaption}\item[{std\+::string}]{file\+Name }\end{DoxyParamCaption})}



The general rule is that you should not use this as it is for debug cases only (incase the C\+O\+XL loader fails or is broken) 


\begin{DoxyParams}{Parameters}
{\em file\+Name} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\mbox{\hyperlink{struct_structures_1_1_vertices_indices}{Structures\+::\+Vertices\+Indices}} 
\end{DoxyReturn}


Definition at line 16 of file Model\+Loader.\+cpp.


\begin{DoxyCode}
16                                                                            \{
17 
18     Assimp::Importer importer;
19 
20     \textcolor{keyword}{const} \textcolor{keyword}{auto} scene = importer.ReadFile(fileName, aiProcess\_Triangulate | aiProcess\_JoinIdenticalVertices 
      |
21         aiProcess\_FlipUVs | aiProcess\_GenSmoothNormals);
22 
23     \textcolor{keywordflow}{if} (!scene)
24     \{
25         \textcolor{keywordflow}{return} \{\};
26     \}
27     \textcolor{keyword}{auto} vertices = std::vector<Structures::VertexTexCoordNormalBones>();
28     \textcolor{keyword}{auto} indices = std::vector<unsigned int>();
29     \textcolor{keyword}{auto} vertexCount = 0;
30     \textcolor{keyword}{auto} indexCount = 0;
31 
32     \mbox{\hyperlink{class_model_loader_ae809d56b350b003306b484c3bbc1b5e3}{InitFromScene}}(scene);
33     \textcolor{keywordflow}{return} \{ \mbox{\hyperlink{class_model_loader_ac87b9662dae9c00b140bc90c30c088ee}{m\_vertices}}, \mbox{\hyperlink{class_model_loader_a6d63371db7677b60c2c000f23c7fb8f6}{m\_indices}}, \mbox{\hyperlink{class_model_loader_a2b9cf4d8fe3432ddc656651057c78860}{m\_animations}} \};
34 \}
\end{DoxyCode}
\mbox{\Hypertarget{class_model_loader_a90e1f853324d4aee05ba5db140aa974d}\label{class_model_loader_a90e1f853324d4aee05ba5db140aa974d}} 
\index{Model\+Loader@{Model\+Loader}!load\+Vertices@{load\+Vertices}}
\index{load\+Vertices@{load\+Vertices}!Model\+Loader@{Model\+Loader}}
\subsubsection{\texorpdfstring{load\+Vertices()}{loadVertices()}}
{\footnotesize\ttfamily std\+::vector$<$ \mbox{\hyperlink{struct_structures_1_1_vertex_tex_coord_normal_bones}{Structures\+::\+Vertex\+Tex\+Coord\+Normal\+Bones}} $>$ Model\+Loader\+::load\+Vertices (\begin{DoxyParamCaption}\item[{const ai\+Scene $\ast$}]{scene,  }\item[{const int}]{i }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 161 of file Model\+Loader.\+cpp.


\begin{DoxyCode}
162 \{
163     \textcolor{keyword}{auto} vertices = std::vector<Structures::VertexTexCoordNormalBones>();
164     \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} j = 0; j < scene->mMeshes[i]->mNumVertices; j++)
165     \{
166 
167         vertices.push\_back(\{
168             \{
169                 scene->mMeshes[i]->mVertices[j].x,
170                 scene->mMeshes[i]->mVertices[j].y,
171                 scene->mMeshes[i]->mVertices[j].z,
172             \},
173                 \{
174                     scene->mMeshes[i]->mTextureCoords[0][j].x,
175                     scene->mMeshes[i]->mTextureCoords[0][j].y
176                 \},
177                 \{
178                     scene->mMeshes[i]->mNormals[j].x,
179                     scene->mMeshes[i]->mNormals[j].y,
180                     scene->mMeshes[i]->mNormals[j].z,
181                 \},
182             \});
183     \}
184     \textcolor{keywordflow}{return} vertices;
185 \}
\end{DoxyCode}


\subsection{Member Data Documentation}
\mbox{\Hypertarget{class_model_loader_a2b9cf4d8fe3432ddc656651057c78860}\label{class_model_loader_a2b9cf4d8fe3432ddc656651057c78860}} 
\index{Model\+Loader@{Model\+Loader}!m\+\_\+animations@{m\+\_\+animations}}
\index{m\+\_\+animations@{m\+\_\+animations}!Model\+Loader@{Model\+Loader}}
\subsubsection{\texorpdfstring{m\+\_\+animations}{m\_animations}}
{\footnotesize\ttfamily std\+::vector$<$\mbox{\hyperlink{struct_structures_1_1_animation}{Structures\+::\+Animation}}$>$ Model\+Loader\+::m\+\_\+animations\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 28 of file Model\+Loader.\+h.

\mbox{\Hypertarget{class_model_loader_a6d63371db7677b60c2c000f23c7fb8f6}\label{class_model_loader_a6d63371db7677b60c2c000f23c7fb8f6}} 
\index{Model\+Loader@{Model\+Loader}!m\+\_\+indices@{m\+\_\+indices}}
\index{m\+\_\+indices@{m\+\_\+indices}!Model\+Loader@{Model\+Loader}}
\subsubsection{\texorpdfstring{m\+\_\+indices}{m\_indices}}
{\footnotesize\ttfamily std\+::vector$<$unsigned$>$ Model\+Loader\+::m\+\_\+indices\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 27 of file Model\+Loader.\+h.

\mbox{\Hypertarget{class_model_loader_ac87b9662dae9c00b140bc90c30c088ee}\label{class_model_loader_ac87b9662dae9c00b140bc90c30c088ee}} 
\index{Model\+Loader@{Model\+Loader}!m\+\_\+vertices@{m\+\_\+vertices}}
\index{m\+\_\+vertices@{m\+\_\+vertices}!Model\+Loader@{Model\+Loader}}
\subsubsection{\texorpdfstring{m\+\_\+vertices}{m\_vertices}}
{\footnotesize\ttfamily std\+::vector$<$\mbox{\hyperlink{struct_structures_1_1_vertex_tex_coord_normal_bones}{Structures\+::\+Vertex\+Tex\+Coord\+Normal\+Bones}}$>$ Model\+Loader\+::m\+\_\+vertices\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 26 of file Model\+Loader.\+h.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
D3d\+Engine/\mbox{\hyperlink{_model_loader_8h}{Model\+Loader.\+h}}\item 
D3d\+Engine/\mbox{\hyperlink{_model_loader_8cpp}{Model\+Loader.\+cpp}}\end{DoxyCompactItemize}
